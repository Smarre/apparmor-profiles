# Last Modified: Sun Apr 26 10:43:26 2020
#include <tunables/global>

/usr/bin/akonadi_indexing_agent {
  #include <abstractions/akonadi_agent_base>
  #include <abstractions/base>
  #include <abstractions/consoles>
  #include <abstractions/dbus-session-strict>
  #include <abstractions/kde>
  #include <abstractions/qt5>
  #include <abstractions/sddm>

  network netlink raw,

  signal receive set=kill peer=/usr/bin/akonadi_control,
  signal receive set=term peer=/usr/bin/akonadi_control,

  /usr/bin/akonadi_indexing_agent mr,
  /usr/share/akonadi/plugins/serializer/ r,
  /usr/share/akonadi/plugins/serializer/* r,
  owner @{HOME}/.config/.* rwk,
  owner @{HOME}/.config/akonadi/* rwk,
  owner @{HOME}/.config/akonadi_indexing_agentrc r,
  owner @{HOME}/.config/akonadi_indexing_agentrc w,
  owner @{HOME}/.config/akonadi_indexing_agentrc.* rw,
  owner @{HOME}/.config/akonadi_indexing_agentrc.lock wk,
  owner @{HOME}/.local/share/akonadi/file_db_data/** r,
  owner @{HOME}/.local/share/akonadi/search_db/ w,
  owner @{HOME}/.local/share/akonadi/search_db/** rw,
  owner @{HOME}/.local/share/akonadi/search_db/** wk,
  owner @{HOME}/.local/share/mime/generic-icons r,

}

# Last Modified: Fri Apr 17 07:27:05 2020
#include <tunables/global>

profile gameoverlayui @{HOME}/.local/share/Steam/ubuntu12_32/gameoverlayui flags=(complain) {
  #include <abstractions/audio>
  #include <abstractions/base>
  #include <abstractions/dbus-session-strict>
  #include <abstractions/fonts>
  #include <abstractions/user-tmp>
  #include <abstractions/sddm>

  / r,

  /proc/version r,
  /sys/devices/system/cpu/cpufreq/policy*/* r,

  /usr/share/fonts/** rk,

  owner /dev/shm/ValveIPCSHM_* rw,
  owner /dev/shm/u*-Shm_* rw,
  owner /dev/shm/u*-ValveIPCSharedObj-Steam rwk,

  owner @{PROC}/@{uid}/cmdline r,
  owner @{PROC}/@{uid}/environ r,
  owner @{PROC}/@{uid}/task/ r,

  /home/ r,

  owner @{HOME}/ r,
  owner @{HOME}/.Xauthority r,
  owner @{HOME}/.cache/fontconfig/* r,
  owner @{HOME}/.fonts.conf r,
  owner @{HOME}/.fonts/ r,

  owner @{HOME}/.local/share/Steam/linux32/steamerrorreporter Px -> steamerrorreporter,
  owner @{HOME}/.local/share/Steam/ubuntu12_32/gameoverlayui mr,
  owner @{HOME}/.local/share/Steam/ r,
  owner @{HOME}/.local/share/Steam/** rk,
  owner @{HOME}/.local/share/Steam/** w,
  owner @{HOME}/.local/share/Steam/config/ r,
  owner @{HOME}/.local/share/Steam/friends/* r,
  owner @{HOME}/.local/share/Steam/public/steamui_english.txt r,
  owner @{HOME}/.local/share/Steam/public/steamui_finnish.txt r,
  owner @{HOME}/.local/share/Steam/resource/* r,
  owner @{HOME}/.local/share/Steam/resource/steamscheme.res r,
  owner @{HOME}/.local/share/Steam/resource/styles/gameoverlay.styles r,
  owner @{HOME}/.local/share/Steam/resource/styles/steam.styles r,
  owner @{HOME}/.local/share/Steam/ubuntu12_32/ r,
  owner @{HOME}/.local/share/Steam/ubuntu12_32/* mr,
  owner @{HOME}/.local/share/Steam/ubuntu12_32/gameoverlayrenderer.so r,
  owner @{HOME}/.local/share/Steam/ubuntu12_32/libtier0_s.so mr,
  owner @{HOME}/.steam/registry.vdf rk,
  owner @{HOME}/.steam/steam.pipe r,
  owner @{HOME}/.local/share/Steam/ubuntu12_32/steam-runtime/lib/** mr,
  owner @{HOME}/.local/share/Steam/ubuntu12_32/steam-runtime/usr/lib/** mr,

  # Not sure how safe this one is..
  owner /tmp/miles_image_* m,
}